/*! event-organiser-posterboard 2.0.0 */
jQuery(document).ready(function(a){function b(a,b){var c,d=/\\|'|\r|\n|\t|\u2028|\u2029/g,e={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},f={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},g=new RegExp([e.escape.source,e.interpolate.source,e.evaluate.source].join("|")+"|$","g"),h=0,i="__p+='";a.replace(g,function(b,c,e,g,j){return i+=a.slice(h,j).replace(d,function(a){return"\\"+f[a]}),c&&(i+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),e&&(i+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),g&&(i+="';\n"+g+"\n__p+='"),h=j+b.length,b}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{c=new Function(e.variable||"obj","_",i)}catch(j){throw j.source=i,j}if(b)return c(b);var k=function(a){return c.call(this,a)};return k}function c(){e++,a.ajax({url:eventorganiser_posterboard.url,dataType:"json",data:{action:"eventorganiser-posterboard",page:e,query:eventorganiser_posterboard.query}}).done(function(b){a("#event-board-more").text("Load more");for(var c="",e=0;e<b.length;e++){var f=b[e];c+=g(f)}b.length<eventorganiser_posterboard.query.posts_per_page&&a("#event-board-more").hide();var h=a(c),i=a("#event-board-filters").data("filters").split(",");if(1==i.length&&""===i[0]&&(i=[]),d.append(h).masonry("appended",h,!0),i.length>0){var j="#event-board ."+i.join(", #event-board .");a(j).css({visibility:"hidden",display:"none"}).removeClass("eo-eb-event-box masonry-brick masonry-brick").addClass("eo-eb-event-box-hidden")}d.imagesLoaded(function(){d.masonry("reload")})})}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),a(".eo-eb-filter").click(function(b){b.preventDefault();var c=a(this).data("filter-type"),d=a(this).data(c),e="eo-eb-"+c+"-"+d,f=a(this).data("filter-on"),g=a("#event-board-filters").data("filters").split(",");if(1===g.length&&""===g[0]&&(g=[]),f){var h=g.indexOf(e);h>-1&&(g.splice(h,1),a.grep(g,function(a){return a})),g.length>0?a("#event-board ."+e).not("."+g.join(", .")).css({visibility:"visible",display:"block"}).addClass("eo-eb-event-box masonry-brick masonry-brick").removeClass("eo-eb-event-box-hidden"):a("#event-board ."+e).css({visibility:"visible",display:"block"}).addClass("eo-eb-event-box masonry-brick masonry-brick").removeClass("eo-eb-event-box-hidden")}else g.push(e),a("#event-board ."+e).css({visibility:"hidden",display:"none"}).removeClass("eo-eb-event-box masonry-brick masonry-brick").addClass("eo-eb-event-box-hidden");a("#event-board-filters").data("filters",g.join(",")),a(this).data("filter-on",!f),a(this).toggleClass("eo-eb-filter-on",!f),a("#event-board-items").masonry("reload")});{var d=a("#event-board-items");d.parent().width()}a("#event-board-more").text(eventorganiser_posterboard.loading);var e=1,f=eventorganiser_posterboard.template,g=b(f);a.ajax({url:eventorganiser_posterboard.url,dataType:"json",data:{action:"eventorganiser-posterboard",page:e,query:eventorganiser_posterboard.query}}).done(function(b){for(var e="",f=0;f<b.length;f++){var h=b[f];e=g(h),d.append(e)}b.length<eventorganiser_posterboard.query.posts_per_page&&a("#event-board-more").hide(),d.imagesLoaded(function(){d.masonry({isFitWidth:!0,itemSelector:".eo-eb-event-box",isAnimatedFromBottom:!0,isAnimated:!0,singleMode:!0,layoutPriorities:{shelfOrder:0}})}),a("#event-board-more").text(eventorganiser_posterboard.load_more),a("#event-board-more").click(c)})});